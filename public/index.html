<!DOCTYPE html>
<html>
  <head>
    <title>Moodlr</title>
    <link rel="stylesheet" href="css/main.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>

  <body aurelia-app="moodlr-app">
    <img src="./images/moods/cool.svg" data-index="0" id="loader">
    <script>
      var $loader = document.getElementById('loader')

      function shuffle(o){
        for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
        return o;
      }
      var moods = shuffle(['cool', 'excited', 'funny', 'happy', 'love', 'nervous', 'pirat', 'sad', 'shocked', 'tired'])
      // SIMPLE LOADER
      var i
      function runLoader() {
        console.log("loading")
        i = parseInt($loader.getAttribute('data-index')) + 1
        if (i == moods.length) i = 0
        $loader.setAttribute('data-index', i)
        console.log(i)
        $loader.setAttribute('src', `./images/moods/${moods[i]}.svg`)
        if (document.getElementById('loader')) {
          setTimeout(runLoader, 50)
        }
      }
      runLoader()
    </script>
    <script src="jspm_packages/system.js"></script>
    <script src="config.js"></script>
    <script>
      System.import('aurelia-bootstrapper');
    </script>
  </body>
</html>
